<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@0.11.2"> </script> 
<script src="https://code.jquery.com/jquery-3.2.1.min.js"> </script> 
 

From a tweet by   <a href="https://twitter.com/Submarineering/status/1000600501149454336">@Submarineering</a>


<input id="myButton123" type="button" value="Load Data" onclick="{ 
(async function(){
   let myResponse = await fetch('https://raw.githubusercontent.com/domoritz/maps/master/data/iris.json')
   document.ds = await myResponse.json()
  // alert(ds[0].sepalLength)                                                                                                                                                 
})() }">        






<input id="myButton123" type="button" value="Iris-submarineering" onclick="{

   //alert(document.ds[0]['sepalLength'])
                                                                           
                                                                     
                                                                           

// setup data
xsArray = [];
for(i=0; i < 150; i++){ 
   xsArray.push([[document.ds[i]['sepalLength']],[document.ds[i]['sepalWidth']], [document.ds[i]['petalLength']],[document.ds[i]['petalWidth']]]);
}
xs = tf.tensor(xsArray);
xs = xs.reshape([150, 4]);
xs.print(true)  
                                                                           
                                                                          
y1Array = [];
for (i=0; i < 50; i++){
   y1Array.push([1,0,0])
} 
y1 = tf.tensor(y1Array); 
//y1.print(true)  

y2Array = [];                                                                            
for (i=0; i<50; i++){
   y2Array.push([0, 1, 0])
}                                                                           
y2 = tf.tensor(y2Array);    
//y2.print(true)                                                                              
                                                                           
y3Array = [];                                                                            
for (i=0; i < 50; i++){
    y3Array.push([0, 0, 1])
 }                                                                           
y3 = tf.tensor(y3Array);    
                                                                           
ys = tf.stack([y1, y2, y3]); 
ys = ys.reshape([150, 3]);                                                                           
ys.print(true)                                                                              
                                                                           
// Model:                                                                           
                                                                           
const model = tf.sequential();
                                                                           





//alert([xs.shape[1]])  // equaled [4]                                                                         
model.add(tf.layers.dense({ units: 10, activation: 'sigmoid', inputShape: [xs.shape[1]] }));
//model.add(tf.layers.dense({ units: 10, activation: 'sigmoid', inputShape: [150, 3] }));

                                                                           
                                                                           
                                                                                                                                                      
 }"> 



model.add(tf.layers.dense({ units: 3, activation: 'softmax' }));  
                                                                        
const optimizer = tf.train.adam(0.01);
model.compile({ optimizer: optimizer, loss: 'categoricalCrossentropy', metrics: ['accuracy'] });

  
// Fit the model:
model.fit(xs, ys, { epochs: 100} );

                                                                        
                                                                          
// Prediction:
//const pred = tf.tensor([[5.0, 3.4, 1.5, 0.3], [5.3, 2.2, 3.5, 1.1]], shape=[2,4])
const pred = tf.tensor([5.0, 3.4, 1.5, 0.3], shape=[1, 4])
model.predict(pred).print()   
                                                                                                           












