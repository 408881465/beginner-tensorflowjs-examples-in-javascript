<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@0.12.4"> </script> 


<textarea id="myArea01" rows=3 cols=100>
A1,R11,R12,R13,R14,G11,G12,G13,G14,B11,B12,B13,B14,A2,R21,R22,R23,R24,G21,G22,G23,G24,B21,B22,B23,B24</textarea><br>

<textarea id="myArea02" rows=30 cols=20></textarea>
<textarea id="myArea03" rows=30 cols=20></textarea>
<textarea id="myArea04" rows=30 cols=20></textarea><br>

<input type=button value="map Array" onclick="{
     myAr = []
     myAr = document.getElementById('myArea01').value.split(',')   
     
                                              
                                              
     // set all A values to null                                         
     let myNewArr2 = myAr.map((myValue, myIndex, myOriginalArray) => {
       if (myIndex % 13 === 0){
               return null                                                                                        
         } else {
            return myValue                                   
       }
    
    })                                         
     
                                              
    // now delete all null values from array                                          
    myNewArr3 = myNewArr2.filter(function( element ) {
       return element !== null;
   })
       
                                          
     myNewArr4 = []
      let y = 0 
      let myCount = -1;                                
     for (let j=0; j <= 1; j++ ){   
       // myNewArr4[j] = []                               
        for (let x=0; x <= 3; x++){
          y = j*12   
          myCount += 1                 
          myNewArr4[myCount]    =  myNewArr3[y+x] 

          myCount += 1                                                 
          myNewArr4[myCount]  =  myNewArr3[y+x+4]   

          myCount += 1                                                    
          myNewArr4[myCount]  =  myNewArr3[y+x+8]
          //  console.log('j: '+j    +', y: '+y     +', x: '+x     +', myCount: '+myCount      +',myNewArr3[y+x]: '+myNewArr3[y+x])    
          //  console.log(', myNewArr3[y+x+4]: '+myNewArr3[y+x+4]+', myNewArr3[y+x+8]: '+myNewArr3[y+x+8])     
          // console.log('-------------------')
                                
        }
      console.log(myNewArr4)  
    }
                                           
         
                                          
                                              
                                              
    document.getElementById('myArea02').value = JSON.stringify(myNewArr2, null, 3)     
    document.getElementById('myArea03').value = JSON.stringify(myNewArr3, null, 3)   
    document.getElementById('myArea04').value = JSON.stringify(myNewArr4, null, 3)      


  const myCifar = tf.tensor4d(myNewArr4, shape=[2,2,2,3], 'int32')
  myCifar.print(true)

                                      
}">
